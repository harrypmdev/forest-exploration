# Forest Exploration

Forest Exploration is text-based game in which the player explores a randomly generated forest, accumulates points and searches for an amulet. The player wins by using the amulet and can then save their score and stats to the game leaderboard.

![Responsive Mockup](/readme_images//responsive.webp)

## Game Introduction Features

**Tutorial Choice**

- The game starts with a console prompt to the user to answer whether it is their first time playing. 
If so, a tutorial is printed. This ensures the user knows the goal of the game and is able to play properly.
- The console then prompts the user to press any key to continue. This ensures that only the tutorial is on screen
at this time and ensures a postive UX by not overloading the user with information.
- The tutorial can also be printed at any time throughout the game if the user enters the command 'tutorial'.

<details>
<summary> Tutorial Choice Screenshot </summary>

![Tutorial Choice Screenshot](/readme_images/tutorial_choice_screenshot.webp)

</details>

<hr>

**Board Choice**

- After the tutorial choice prompt, the user is prompted to enter a board size they wish to play on.
- The user is presented with three abstracted choices: small, medium or large. They ensures the chosen board size
is always one of three tested choices and the board size is never too large or too small.
- The user's input is validated and the game does not move on until the user enters a valid option.

<details>
<summary> Board Choice Screenshot </summary>

![Board Choice Screenshot](/readme_images/board_choice_screenshot.webp)

</details>
<hr>

**Introduction Information**

- The game starts with introduction information being printed to the user. The first area description is printed
along with an extra line giving the context of the forest location of the game.
- This starts the user off with some information to respond to rather than leaving them to find the look 
command themselves.

<details>
<summary> Introduction Information Screenshot </summary>

![Introduction Information Screenshot](/readme_images/introduction_screenshot.webp)

</details>

## Command Features

The command features are inputs the user can enter throughout the game to interact with items, entities and the environment.

**Help Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Help Command Screenshot </summary>

![Help Command](/readme_images/help_command_screenshot.webp)

</details>
<hr>

**Inventory Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Inventory Command Screenshot </summary>

![Inventory Command](/readme_images/inventory_command_screenshot.webp)

</details>
<hr>

**Status Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Status Command Screenshot </summary>

![Status Command](/readme_images/status_command_screenshot.webp)

</details>
<details>
<summary> Status Of Command Screenshot </summary>

![Status Of Command](/readme_images/status_of_command_screenshot.webp)

</details>
<details>
<summary> Status Of (Invalid) Command Screenshot </summary>

![Invalid Status Command](/readme_images/status_invalid_screenshot.webp)

</details>
<hr>

**Look Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Look Command Screenshot </summary>

![Look Command](/readme_images/look_command_screenshot.webp)

</details>
<hr>

**Punch Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Punch Command Screenshot </summary>

![Punch Command](/readme_images/punch_command_screenshot.webp)

</details>
<details>
<summary> Punch (Invalid) Command Screenshot </summary>

![Punch Command](/readme_images/punch_invalid_screenshot.webp)

</details>
<hr>

**Flee Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Flee Command Screenshot </summary>

![Flee Command](/readme_images/flee_successful_screenshot.webp)

</details>
<details>
<summary> Flee (Unsuccessful) Command Screenshot </summary>

![Flee Unsuccessful Command](/readme_images/flee_unsuccessful_screenshot.webp)

</details>
<details>
<summary> Flee (Invalid) Command Screenshot </summary>

![Flee Invalid Command](/readme_images/flee_invalid_screenshot.webp)

</details>
<hr>

**Map Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Map Command Screenshot </summary>

![Map Command](/readme_images/map_command_screenshot.webp)

</details>
<hr>

**Key Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Key Command Screenshot </summary>

![Key Command](/readme_images/key_command_screenshot.webp)

</details>
<hr>

**Describe Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Describe Command Screenshot </summary>

![Describe Command](/readme_images/describe_command_screenshot.webp)

</details>
<details>
<summary> Describe (Invalid) Command Screenshot </summary>

![Describe Invalid Command](/readme_images/describe_invalid_screenshot.webp)

</details>
<hr>

**Use Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Use Command Screenshot </summary>

![Use Command](/readme_images/use_single_command_screenshot.webp)

</details>
<details>
<summary> Use (Invalid) Command Screenshot </summary>

![Use Command](/readme_images/use_single_invalid_screenshot.webp)

</details>
<details>
<summary> Use On Command Screenshot </summary>

![Use Command](/readme_images/use_command_screenshot.webp)

</details>
<details>
<summary> Use On (Invalid) Command Screenshot </summary>

![Use Command](/readme_images/use_invalid_screenshot.webp)

</details>
<hr>

**Take Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Take Command Screenshot </summary>

![Take Command](/readme_images/take_command_screenshot.webp)

</details>
<details>
<summary> Take (Invalid) Command Screenshot </summary>

![Take Invalid Command](/readme_images/take_invalid_screenshot.webp)

</details>
<hr>

**Drop Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Drop Command Screenshot </summary>

![Drop Command](/readme_images/drop_command_screenshot.webp)

</details>
<details>
<summary> Drop (Invalid) Command Screenshot </summary>

![Drop Invalid Command](/readme_images/drop_invalid_screenshot.webp)

</details>
<hr>

**Search Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Search Command Screenshot </summary>

![Search Command](/readme_images/search_command_screenshot.webp)

</details>
<details>
<summary> Search (Invalid) Command Screenshot </summary>

![Search Invalid Command](/readme_images/search_invalid_screenshot.webp)

</details>
<hr>

**Go Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Go Command Screenshot </summary>

![Go Command](/readme_images/go_command_screenshot.webp)

</details>
<details>
<summary> Go (Unsuccessful) Command Screenshot </summary>

![Go Unsuccessful Command](/readme_images/go_unsuccessful_screenshot.webp)

</details>
<details>
<summary> Go (Invalid) Command Screenshot </summary>

![Go Invalid Command](/readme_images/go_invalid_screenshot.webp)

</details>
<hr>

**Quit Command**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Quit Command Screenshot </summary>

![Quit Command](/readme_images/quit_command_screenshot.webp)

</details>


## Leaderboard Features

**Save Game to Leaderboard**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Save Game Screenshot </summary>

![Save Game](/readme_images/save_game_screenshot.webp)

</details>
<hr>

**Print Leaderboard**

- The user can input the 'help' command to print a list of all valid commands used in the game.
- A message reminding the user of the 'help' command prints above every prompt for new input in the game.
- This ensures the user can always find the command they need without scrolling up on the console or checking the README,
creating a better UX.

<details>
<summary> Print Leaderboard Screenshot </summary>

![Print Leaderboard](/readme_images/leaderboard_screenshot.webp)

</details>


## Features Yet to be Implemented

Forest Exploration is a finished and functional online text adventure. However, certain features could be implemented to improve the product in the future.

1. **Items that affect score:**
    - The game currently includes two ways the player can increase their score: killing enemies and healing sick animals.
    - One feature that could improve and the game and UX is another item type that increases the score directly. This would make finding items on the ground and on enemies more interesting.
2. **Enemy variations:**
    - All enemies in the game essentially function the same. They are instances of the Enemy class, with differing names and effect names but the same functionality.
    - The game would have more variety and provide a better UX if each enemy had different functionality.
    - This could be implemented by adding new enemies as children of the Enemy class.
3. **Item carrying capacity:**
    - The user starts the game with two items in their inventory and can find items in areas and on enemies throughout the game. 
    - Though the user is unlikely to accumulate a large amount of items, particularly on the small and medium board sizes, this can potentially happen and the user has to scroll to view all of their items. It may also be hard for the player to keep track of all their items.
    - A better UX could be provided if an item carrying capacity was introduced, so the player can only carry so many items at a time. The Item class could also have a weight attribute and the carrying capacity be limited by the sum of the all the items' weights. This would add an additional strategy element to gameplay.
    - An alternate solution to the same problem would be a more compact manner of printing the inventory to the user.
4. **Graphical UI:**
    - The game was created from the start to be a text-based adventure. However, it could be adapted to a simple UI with relatively little work. The console could remain for the player to enter their commands, but with the player's inventory and the board map viewable at all times on the page. 
    - Though this would change the nature of the product somewhat, it could potentially improve UX by allowing the user to better understand the location of their player and their items without clogging up the console with the 'map' and 'inventory' commands.

## Manual Testing 

|  Feature |  Testing action | Outcome |
|---|---|---|
|Board Choice |Attempt to enter erroneous inputs|Console prints message advising user to enter 'small', 'medium' or 'large', then repeats question.|
Hero image|Hover over 'GET IN TOUCH'|Link temporarily fades in opacity|
||Click on 'GET IN TOUCH'|Contact us page opens|
Go Command|Attempt to move outside of board|Initial testing produced [bug three](#bug_three). |
Save Game to Leaderboard|Attempt to enter invalid name|Console prints message advising user to enter name of 9 characters or less, then repeats question.|
Save Game to Leaderboard|Attempt to save a game after playing|The game details are added to the leaderboard and displayed on all future games.
<br>

### Feature testing generic to all screen sizes

The following testing should not change outcome based on screen size, but has been tried on phone, tablet and laptop/PC screen sizes regardless.

|  Feature |  Testing action | Outcome |
|---|---|---|

|Click pest links|Relevant part of services page opens|
Map|Attempt to move map frame|Embedded page functionality tells user to use two fingers|
Footer|Click social media links|Relevant social media page opens
Services |Click video|Embedded videos play correctly|
Query|Click submit with no data inputted|User told to fill required forms
||Click submit with relevant data inputted|Data submitted to code institute form dump


## Validator Testing 

#### Python
- No syntax issues or PEP8 style issues returned using <a target="_blank" href="https://docs.astral.sh/ruff/">Ruff linter</a>.

## Bugs

|  Bug Number |  Problem | Outcome |
|---|---|---|
|1 |New items found in the game have unexpectedly low durability| Solved
|2 |Searching enemies always returning no items.| Solved
|3 | List indexing error when attempting to move off map | Solved
|4 |Modules not importing correctly| Solved
||||

<br>

**1.**
- When testing the game in its development, I found some items I was acquiring were breaking quicker than I had intended them to. 
- For example, the 'sword' item was meant to have a durability of 5 uses, but was breaking after 1 use.
- I had implemented the item generation by creating a tuple of `HealthItem` objects that the `generate_items` function would iterate through.
- The generator was only creating references to the original tuple objects, which meant that once an item's durability had broken down, all subsequent items acquired of the same item type would retain the same durability. This meant that once the sword's durability had been worn down to 0 the first time, it broke at the first time its durability was checked on subsequent acquirings.
- I resolved the issue by changing the nature of item generation. The tuple in question (`HealthItem.ITEMS` in `resources/item.py`) is now a two-dimensional tuple that holds the arguments for a possible `HealthItem`. A new `HealthItem` object is instantiated every time the `generate_items` function in `resources/item.py` selects it for generation.

**2.**
- In the game, players can search dead enemies using the 'search' command - this sometimes returns items. Testing during development found that searching enemies was never returning items.
- The public `search` method of the `Enemy` class in `resources/entity.py` returns the enemy's 'loot' (items) so that they can be added to the player's inventory. It then sets the private `_searched` attribute to `True`. The enemy cannot be searched twice, as the the `search` method checks if `_searched` is `False` before returning the items. If it is `True`, it simply returns an empty list.
- The `search` method was always evaluating `_searched` to `True` and therefore never returning the enemy's items. This was due to a typing error in the public `affect_health` method of the parent `Entity` class. The `affect_health` method was accidentally setting `_searched` to a non-empty string. Since non-empty strings evalute to `True`, this meant that any `Entity` object for which the `affect_health` method had been called had a `True` `_searched` attribute.
- The typing error in `affect_health` was corrected, resolving the issue.

<a name="bug_three"></a>
**3.**
- When testing the game during development, I attempted to make an illegal move using the 'go' command that would take my player off the map.
- This prompted an `IndexError` to be raised.
- The problem was in the `GameBoard` class in `resources/game_board.py`. The private `GameBoard` method `_move_is_on_map` checks if a coordinates are on the map and returns `True` if they are, `False` if they are not. This in this then utilised in the public `move` method of `GameBoard` to check a potential move is valid.
- The `_move_is_on_map` private method was functioning incorrectly. It used greater than or equal to operators (>=) rather than greater than (>) operators when evaluating its argument coordinates as compared to the board size. This meant it would return `True` for an extra row and column that were not actually valid moves. Then, when the `move` method attempted to use the index, the `IndexError` exception was raised.
- The operators were corrected to greater than operators and the issue was resolved.

**4.**
- After initially developing the product with all Python files in the main directory, I decided that the product would be better organised if all Python files apart from `run.py` were in a separate subdirectory. I moved the files to the `resources` folder, and changed the `import` statements in `run.py` to accomodate this.
- This caused a `ModuleNotFoundError` to be raised, traceable to an `import` statement in `resources/leaderboard.py`.
- I had not realised that the working directory for the files in the `resources` folder would still be the main directory. `resources/leaderboard.py` was the first module to be imported to `run.py` that tried to import another file from the `resources` folder without referencing its directory in its `import` statement.
- As such, I changed all the `import` statements of the files in the `resources` folder to reflect this, resolving the issue.


## Deployment

- The site was deployed to Heroku using the following steps: 
  - ADD STEPS

The live link can be found here - <a target="_blank" href="https://forest-exploration-d70fdb263fd5.herokuapp.com/">https://forest-exploration-d70fdb263fd5.herokuapp.com/</a>


## Credits 

All content apart from where stated below is my own work.

- emoji library by <a target="_blank" href="https://pypi.org/project/emoji/2.12.1/">Taehoon Kim</a>.
- gspread library by <a target="_blank" href="https://pypi.org/project/gspread/">Anton Burnashev</a>.
- google.oauth2.service_account module by <a target="_blank" href="https://google-auth.readthedocs.io/en/master/reference/google.oauth2.service_account.html">Google</a>.
- Leaderboard spreadsheet made with Google Sheets and hosted by Google.
- Page structure to accomodate Python console from Code Institute.
- Syntax validation and PEP8 style format checks from <a target="_blank" href="https://docs.astral.sh/ruff/">Ruff linter</a>.

